window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();var easeInOutQuad=function(t,e,n,o){return t/=o/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)},animatedScrollTo=function(t,e,n){var o=t.scrollTop,i=e-o,s=+new Date,r=!0,a=null,c=function(){if(r){requestAnimFrame(c);var l=+new Date,d=Math.floor(easeInOutQuad(l-s,o,i,n));a?a===t.scrollTop?(a=d,t.scrollTop=d):r=!1:(a=d,t.scrollTop=d),l>s+n&&(t.scrollTop=e,r=!1)}};requestAnimFrame(c)};!function(){var t=!!navigator.userAgent.match(/(iphone|ipod|android)/i),e=encodeURIComponent("http://"+window.location.host+"/"),n={twitter:"Handcrafted leather goods with personality. Which accessory was made for you? "};window.addEventListener("load",function(){document.body.classList.add("loaded");var t=new Instafeed({get:"user",userId:961164036,accessToken:"961164036.467ede5.f6ffed6c5a564ad9a1355a6994ddcd37",limit:6,template:'<a href="{{link}}" target="_blank"><img src="{{image}}"></a>'});t.run()});var o=null,i=document.getElementById("felt"),s=function(){o&&window.innerHeight<660&&(o.destroy(),o=null),window.innerHeight>=660&&(o||(o=skrollr.init({forceHeight:!1,edgeStrategy:"set"})),i.style.marginTop=Math.floor((window.innerHeight-565)/2)+"px")};t||(window.addEventListener("resize",s),s());var r=document.getElementById("order");document.getElementById("buy").addEventListener("click",function(){r.classList.add("active")});var a=document.getElementById("success"),c=function(){r.classList.remove("active"),a.classList.remove("active")};window.addEventListener("keydown",function(t){27===t.keyCode&&c()}),window.addEventListener("click",function(t){var o=t.target;if("A"===o.tagName)if(o.classList.contains("close"))c(),t.preventDefault();else if(o.classList.contains("share")){var i="height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no";o.classList.contains("facebook")?(window.open("https://www.facebook.com/sharer/sharer.php?u="+e,"facebook",i),t.preventDefault()):o.classList.contains("twitter")&&(window.open("https://twitter.com/home?status="+encodeURIComponent(n.twitter)+" "+e,"twitter",i),t.preventDefault())}});var l=["US","UK","CA"],d=document.getElementById("measures");window.geolocated=function(t){t&&t.countryCode&&l.indexOf(t.countryCode)>-1&&d.classList.add("imperial")},d.addEventListener("click",function(){d.classList.toggle("imperial")}),document.getElementById("arrow").addEventListener("click",function(){var t=window.scrollY/window.innerHeight,e=1;t>=1&&1.5>t?e=1.5:t>=1.5&&(e=Math.floor(t)+1.5),animatedScrollTo(document.body,Math.round(e*window.innerHeight),1500)});var u=function(){h.classList.add("error"),setTimeout(function(){h.classList.remove("error")},300)},p=document.getElementById("orderform"),h=document.getElementById("formcontainer");p.addEventListener("submit",function(t){t.preventDefault();var e=document.getElementById("name").value,n=document.getElementById("email").value,o=document.getElementById("content").value;if(e&&n&&n.indexOf("@")>-1){document.getElementById("buybutton").innerHTML="Sending";var i=new XMLHttpRequest;i.open("GET","http://madeindays.herokuapp.com/email?email="+encodeURIComponent(n)+"&name="+encodeURIComponent(e)+"&content="+encodeURIComponent(o)),i.onload=function(){var t=JSON.parse(this.response);t.status&&"ok"===t.status?(c(),setTimeout(function(){a.classList.add("active")})):u()},i.send()}else u()}),window.priceData=function(t){document.getElementById("priceTag").innerHTML=t.price,document.getElementById("piecesLeft").innerHTML=t.piecesLeft}}(),function(){var t,e;t=function(){function t(t,e){var n,o;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(n in t)o=t[n],this.options[n]=o;this.context=null!=e?e:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},t.prototype.run=function(e){var n,o,i;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(i=document.createElement("script"),i.id="instafeed-fetcher",i.src=e||this._buildUrl(),n=document.getElementsByTagName("head"),n[0].appendChild(i),o="instafeedCache"+this.unique,window[o]=new t(this.options,this),window[o].unique=this.unique),!0},t.prototype.parse=function(t){var e,n,o,i,s,r,a,c,l,d,u,p,h,m,f,g,w,y,v,k,I,E;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(m="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),h="least"===m[0]?!0:!1,m[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",h);break;case"liked":t.data=this._sortBy(t.data,"likes.count",h);break;case"commented":t.data=this._sortBy(t.data,"comments.count",h);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(c=t.data,null!=this.options.limit&&c.length>this.options.limit&&(c=c.slice(0,this.options.limit+1||9e9)),n=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(c=this._filter(c,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(i="",r="",d="",f=document.createElement("div"),g=0,v=c.length;v>g;g++)s=c[g],a=s.images[this.options.resolution].url,this.options.useHttp||(a=a.replace("http://","//")),r=this._makeTemplate(this.options.template,{model:s,id:s.id,link:s.link,image:a,caption:this._getObjectProperty(s,"caption.text"),likes:s.likes.count,comments:s.comments.count,location:this._getObjectProperty(s,"location.name")}),i+=r;for(f.innerHTML=i,E=[].slice.call(f.childNodes),w=0,k=E.length;k>w;w++)p=E[w],n.appendChild(p)}else for(y=0,I=c.length;I>y;y++)s=c[y],l=document.createElement("img"),l.src=s.images[this.options.resolution].url,this.options.links===!0?(e=document.createElement("a"),e.href=s.link,e.appendChild(l),n.appendChild(e)):n.appendChild(l);document.getElementById(this.options.target).appendChild(n),o=document.getElementsByTagName("head")[0],o.removeChild(document.getElementById("instafeed-fetcher")),u="instafeedCache"+this.unique,window[u]=void 0;try{delete window[u]}catch(b){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,e,n;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return n=""+t+"/"+e,n+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(n+="&count="+this.options.limit),n+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+t()+t()+t()+t()},t.prototype._makeTemplate=function(t,e){var n,o,i,s,r;for(o=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,n=t;o.test(n);)i=n.match(o)[1],s=null!=(r=this._getObjectProperty(e,i))?r:"",n=n.replace(o,""+s);return n},t.prototype._getObjectProperty=function(t,e){var n,o;for(e=e.replace(/\[(\w+)\]/g,".$1"),o=e.split(".");o.length;){if(n=o.shift(),!(null!=t&&n in t))return null;t=t[n]}return t},t.prototype._sortBy=function(t,e,n){var o;return o=function(t,o){var i,s;return i=this._getObjectProperty(t,e),s=this._getObjectProperty(o,e),n?i>s?1:-1:s>i?1:-1},t.sort(o.bind(this)),t},t.prototype._filter=function(t,e){var n,o,i,s,r;for(n=[],i=function(t){return e(t)?n.push(t):void 0},s=0,r=t.length;r>s;s++)o=t[s],i(o);return n},t}(),e="undefined"!=typeof exports&&null!==exports?exports:window,e.Instafeed=t}.call(this);